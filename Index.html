<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Caça aos Óculos 👓</title>
<style>
  body {
    font-family: "Segoe UI", Arial, sans-serif;
    margin: 0;
    background: #e4f2ef;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  h1 {
    color: #006b4b;
    margin-top: 15px;
  }
  #game-area {
    position: relative;
    width: 320px;
    height: 480px;
    background: url('https://i.imgur.com/7yFgOQF.jpeg') no-repeat center/cover;
    border: 3px solid #0c7053;
    border-radius: 10px;
    overflow: hidden;
  }
  .oculos {
    position: absolute;
    width: 40px;
    height: 20px;
    background: url('https://i.imgur.com/3oPzbyo.png') no-repeat center/contain;
    cursor: pointer;
  }
  #hud {
    margin: 10px;
    display: flex;
    justify-content: space-between;
    width: 320px;
    font-size: 16px;
    color: #034734;
  }
  #msg {
    margin-top: 15px;
    font-weight: bold;
    color: #0c7053;
    text-align: center;
  }
  button {
    background: #0c7053;
    color: white;
    border: none;
    padding: 8px 14px;
    font-size: 16px;
    border-radius: 6px;
    cursor: pointer;
    margin-top: 10px;
  }
  button:hover {
    background: #119c70;
  }
</style>
</head>
<body>

<h1>Caça aos Óculos 👓</h1>
<div id="hud">
  <span>Tempo: <b id="tempo">30</b>s</span>
  <span>Encontrados: <b id="achados">0/3</b></span>
</div>

<div id="game-area"></div>

<div id="msg"></div>
<button id="restart">Reiniciar</button>

<script>
const area = document.getElementById('game-area');
const tempoEl = document.getElementById('tempo');
const achadosEl = document.getElementById('achados');
const msg = document.getElementById('msg');
const restartBtn = document.getElementById('restart');

let tempo = 30;
let achados = 0;
let timer;
let oculosList = [];

function iniciarJogo() {
  // Reset
  area.innerHTML = '';
  msg.textContent = '';
  achados = 0;
  tempo = 30;
  achadosEl.textContent = '0/3';
  tempoEl.textContent = tempo;
  
  // Criar 3 óculos em posições aleatórias
  for (let i = 0; i < 3; i++) {
    const oculos = document.createElement('div');
    oculos.className = 'oculos';
    oculos.style.left = Math.random() * 260 + 'px';
    oculos.style.top = Math.random() * 430 + 'px';
    oculos.addEventListener('click', acharOculos);
    area.appendChild(oculos);
    oculosList.push(oculos);
  }

  // Iniciar contagem
  clearInterval(timer);
  timer = setInterval(() => {
    tempo--;
    tempoEl.textContent = tempo;
    if (tempo <= 0) fimDeJogo(false);
  }, 1000);
}

function acharOculos(e) {
  e.target.style.visibility = 'hidden';
  achados++;
  achadosEl.textContent = achados + '/3';
  if (achados === 3) fimDeJogo(true);
}

function fimDeJogo(ganhou) {
  clearInterval(timer);
  if (ganhou) {
    msg.innerHTML = "🎉 Parabéns! Você ganhou sua <b>armação grátis</b>!<br>Mostre esta tela na ótica.";
  } else {
    msg.innerHTML = "⏰ O tempo acabou! Tente novamente!";
  }
  // Remover cliques
  oculosList.forEach(o => o.style.pointerEvents = 'none');
}

restartBtn.addEventListener('click', () => {
  oculosList = [];
  iniciarJogo();
});

iniciarJogo();
</script>

</body>
</html>